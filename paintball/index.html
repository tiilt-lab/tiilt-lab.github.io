kl<!DOCTYPE html>
<html lang="en">
  <head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js"></script>
    <script src="https://unpkg.com/interactjs/dist/interact.min.js"></script>

    <script src="p5.Polar.min.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
    <meta charset="utf-8" />

  </head>
  <body>

    <!-- <div  class="drag-drop"> drop boy </div>  
    <div  class="drag-drop"> drop 2 </div>
    <div  class="drag-drop"> drop 5 </div>
    <div  class="drag-drop"> drop 8 </div> -->
    
    <div id = "receivers">
    </div>
    
    <main>
    </main>
    <!-- <div class="dropzone"> <div class="receiverText">tester</div> <div class="number-input-div"><input type="number" class="number-input"/> </div></div> -->
    <script type="text/javascript">
      //These would be replaced by data
      var blocks = ["Steps", "Average Speed", "Max Speed", // "Time of Possession", 
	              "Running Time", "Rest Time"];
      var blockVals = [5, 230, 31, 543, 234, 12, 30];
      var calculatedData = {
        "steps": 5, 
        "max speed": 230, 
        "possession": 31, 
        "running time": 543
      };
      
      var recordList;
      var recording;
      var rls;
      var globalX = 0;
      var globalY = 0;
      var globalZ = 0;
      var connections = [];
      for (var b in blocks) {
        connections.push(-1);
      }

      function moveTarget(x, y, t) {
        // console.log(t, x, y);
        t.style.transform = 'translate(' + x + 'px, ' + y + 'px)'

        // update the posiion attributes
        t.setAttribute('data-x', x)
        t.setAttribute('data-y', y)
      }

      var originalBallTimes = [0,70,32,70,120,40,32,155];
      var ballTimes = [0,70,32,70,120,40,32,155];
      var originalBallPossess = [0,60,46,30,40,18,16,25];
      
      var ballPossess = [0,60,46,30,40,18,16,25];
      var accelData = [];
      var calculatedData = {
        "steps": 0, 
        "lastRunTime": 0, 
        "lastStepThresholdTime": 0, 
        "runTime": 0,
        "velocity": {"x": 0, "y": 0, "z": 0},
        "rest time": 234, 
        "t5": 12, 
        "t6": 30,
        "lastAccel": {"x": 0, "y": 0, "z": 0, "time": 0}
      };

      function resetValues () {
         originalBallTimes = [0,70,32,70,120,40,32,155];
         ballTimes = [0,70,32,70,120,40,32,155];
         originalBallPossess = [0,60,46,30,40,18,16,25];
        
         ballPossess = [0,60,46,30,40,18,16,25];
         accelData = [];
         calculatedData = {
          "steps": 0, 
          "lastRunTime": 0, 
          "lastStepThresholdTime": 0, 
          "runTime": 0,
          "velocity": {"x": 0, "y": 0, "z": 0},
          "rest time": 234, 
          "t5": 12, 
          "t6": 30,
          "lastAccel": {"x": 0, "y": 0, "z": 0, "time": 0}
        };
      }
      resetValues();

      function saveDrawing() {
        alert("this functionality is not yet ready and is under construction!");
      }
    </script>
    <div class="container">
      <div class="col">
        <button onclick="connectDevice()">Connect</button>
        <button onclick="makeDrawing()">Make drawing</button>
        <button onclick="saveDrawing()">Save & Export</button>
        <button onclick="resetValues()">reset data</button>
        <table>
          <tbody><tr>
              <td>x:</td>
              <td id="accelerometerX">-</td>
          </tr>
          <tr>
              <td>y:</td>
              <td id="accelerometerY">-</td>
          </tr>
          <tr>
              <td>z:</td>
              <td id="accelerometerZ">-</td>
          </tr>
          <tr>
            <td>extras:</td>
            <td id="extras">-</td>
        </tr>
        </tbody></table>
      </div>
      
    </div>
    

    <script src="bluetooth-connector.js"> </script>
    <script src="blockMaker.js"> </script>
    <script src="dragger.js"> </script>

    <script src="sketch.js"></script>
  </body>
</html>
